<table class="table table-striped table-bordered table-hover nomargin-bottom">
	<thead>
		<tr>
			<th class="center">角色名称</th>
			<th class="center">归属机构</th>
			<th class="center">数据范围</th>
			<th class="center">操作</th>
		</tr>
	</thead>

	<tbody>
		@var map = office.getAllOffice();
		@for(item in page.list){
			<tr>
				<td class="center">
					<a href="javascript:void(0);"
						data-mode="detail" data-title="<${item.name!}>角色"
						data-url="${rootPath}/role/detail/showlayer"
						data-data="{id:'${item.id}'}"
						data-height="341" data-width="800"
					>${item.name!}</a>
				</td>
				<td class="center">
					@var pOfficeName = map[map[item.officeId].parentId].name!;
					${pOfficeName!}
					@if(!isEmpty(pOfficeName)){
						@print(" — "); 
					@}
					${map[item.officeId].name!}
				</td>
				<td class="center">
				<#dict dictMode="showName" value="${item.dataScope!}" type="sys_data_scope"/>
				</td>
				<td class="center">
					<div class="hidden-sm hidden-xs action-buttons">
						<a class="pink" href="javascript:void(0);"
							data-mode="page" data-title="<${item.name!}>角色分配"
							data-url="${rootPath}/role/binduser"
							data-data="{id:'${item.id}'}"
							data-height="600" data-width="1000"
						>
							<i class="ace-icon fa fa-users bigger-130"></i> 绑定用户
						</a>
						<a class="green" href="javascript:void(0);" 
							data-mode="page" data-title="<${item.name!}>编辑"
							data-url="${rootPath}/role/edit/showlayer"
							data-data="{id:'${item.id}'}"
							data-height="520" data-width="700"
						>
							<i class="ace-icon fa fa-pencil bigger-130"></i> 编辑
						</a>

						<a class="red" href="javascript:void(0);" 
							data-mode="del" data-title="删除操作"
							data-msg="你确定删除此数据吗?"
							data-url="${rootPath}/role/del" data-data="{id:'${item.id}'}"
						>
							<i class="ace-icon fa fa-trash-o bigger-130"></i> 删除
						</a>
					</div>
				</td>
			</tr>
		@}
	</tbody>
</table>
<div class="space-8"></div>
<#paginate page="${page}" />